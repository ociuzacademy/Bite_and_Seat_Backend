{% extends 'adminapp/dashboard.html' %}
{% block content %}

<div class="container py-5 d-flex justify-content-center">
  <div class="w-100" style="max-width: 1100px;">

    <!-- White Container -->
    <div class="bg-white shadow-lg rounded-4 p-4 border-0">

      <!-- Page Header -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0 fw-bold" style="color: #088080;">All Tables</h2>
        <a href="{% url 'add_table' %}" class="btn fw-bold px-4 text-white" style="background-color: #088080;">
          + Add New Table
        </a>
      </div>

      <!-- Messages -->
      {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show rounded-3" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}

      <!-- Tables Section -->
      <div class="table-responsive">
        <table class="table table-hover align-middle text-center mb-0 border">
          <thead style="background-color: #088080; color: white;">
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Seats</th>
              <th>Total Price</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for table in tables %}
              <tr>
                <td>{{ table.id }}</td>
                <td class="fw-semibold">{{ table.table_name }}</td>
                <td>{{ table.number_of_seats }}</td>
                <td>â‚¹{{ table.total_price }}</td>
                <td>
                  <a href="{% url 'view_seats' table.id %}" 
                     class="btn btn-sm text-white fw-bold px-3" 
                     style="background-color: #088080;">
                    View Seats
                  </a>
                  <a href="{% url 'edit_table' table.id %}" 
                     class="btn btn-sm fw-bold text-white px-3" 
                     style="background-color: #0a9a9a;">
                    Edit
                  </a>
                  <a href="{% url 'delete_table' table.id %}" 
                     class="btn btn-sm fw-bold text-white px-3" 
                     style="background-color: #c91111;"
                     onclick="return confirm('Are you sure you want to delete this table?');">
                    Delete
                  </a>
                </td>
              </tr>
            {% empty %}
              <tr>
                <td colspan="5" class="text-center text-muted fs-5 py-3">No tables found</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Optional Custom Styles -->
<style>
  .table th, .table td {
    vertical-align: middle;
  }

  .table-hover tbody tr:hover {
    background-color: rgba(8, 128, 128, 0.05);
  }

  .btn:hover {
    opacity: 0.9;
  }
</style>

{% endblock %}
